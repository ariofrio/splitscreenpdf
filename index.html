<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title></title>
  <style type="text/css">
    body {
      margin: 0;
      overflow: hidden;

      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
      font-size: 14px;
    }
    header {
      line-height: 40px;
      padding: 0 1em;
      color: #999;

      background-color: #1B1B1B;
      background-image: -moz-linear-gradient(top, #222, #111);
      background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#222),
      to(#111));
      background-image: -webkit-linear-gradient(top, #222, #111);
      background-image: -o-linear-gradient(top, #222, #111);
      background-image: linear-gradient(to bottom, #222, #111);
      background-repeat: repeat-x;
    }
    header * {
      display: inline;
    }
    header h1 {
      font-size: 100%;
      margin-right: 1em;
    }
    header a {
      color: #ccc;
      text-decoration: none;
    }
    header a:hover {
      color: white;
    }
    #editor, #viewWrap {
      position: absolute;
      top: 40px;
      bottom: 0;
      width: 50%;
    }
    #editor { left: 0; }
    #viewWrap { right: 0; }
    #view {
      width: 100%;
      height: 100%;
      border: 0;
    }
  </style>
</head>
<body>
  <header>
  <h1><a href="http://splitscreenpdf.com">SplitScreenPDF.com</a></h1>
    <p>Powered by <a href="http://manuels.github.com/hpdf.js/">hpdf.js</a></p>
  </header>

  <div id="editor">var helvetica = pdf.font('Helvetica');

var title = "This is a test!";
var page = pdf.addPage();
page.setFontAndSize(helvetica, 24);
var tw = page.textWidth(title);
page.beginText();
page.moveTextPos( (page.width()-tw)/2, page.height()-50 );
page.showText(title);
page.endText();</div>
  <div id="viewWrap"><iframe src="about:blank" id="view"></iframe></div>
  <script src="http://d1n0x3qji82z53.cloudfront.net/src-min-noconflict/ace.js"
    type="text/javascript" charset="utf-8"></script>
  <script src="https://github.com/manuels/hpdf.js/raw/master/hpdf.min.js"
    type="text/javascript" charset="utf-8"></script>
  <script>
    var editor = ace.edit("editor");
    //editor.setTheme("ace/theme/monokai");
    editor.getSession().setMode("ace/mode/javascript");

    var iframe = document.getElementById("view");
    var throttler = null;
    var update = function() {
      if(throttler) clearTimeout(throttler);
      throttler = setTimeout(function() {
        var pdf = new HPDF();
        var code = editor.getValue();
        eval(code);
        iframe.src = pdf.toDataUri();
        pdf.free();
      }, 500);
    };
    editor.getSession().on('change', update);
    update();
  </script>
</body>
</html>
